<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
    <script src="https://unpkg.com/vue@next"></script>


    <link href="css/style.css" rel="stylesheet" type="text/css" />
  </head>
    

  <body>
    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>

    <div class = 'container'>
    <header class = 'row'>

      <div class = 'col-lg-6 col-md-6 col-sm-6 col-xs-6'>
        <h1>Indiana Soccer Referees Association</h1>
      </div>

    </header>
      


    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container-fluid">
      <a class="navbar-brand" href="#"></a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="index.html">Home </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="Ref_Info.html">Referee Information </a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" href="Game_Info.html">Game Information </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="assign_info.html">Assignment Information </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

    <main class = 'row'>
      <!-- <div class = 'one col-lg-12 col-md-12 col-sm-12 col-xs-12'> -->
      <h2>Game Information<a class="nav-link" href="game_view.html"><button style="float: right; height: 40px; width:200px; font-size: medium;">View games</button></a></h2>
      <p>Please find game information outlined in the table below. For urgent inquiries, contact the main office.</p>
      <p>Note: field names and times are subject to change based on availability and inclement weather.</p> 

      <div id="controller" class='container'>   
        <table id = 'taskTable' class ='table table-bordered table-striped table-hover table-condensed'>
          <thead>
            <tr>
              <th class='text-center'>Game ID</th> 
              <th class='text-center'>Field Number</th>
              <th class='text-center'>Start Date</th>
              <th class='text-center'>Start Time</th>
              <th class='text-center'>Game Level</th>
              <th class='text-center'>Number of Referees</th>
            </tr>
          </thead>
    
          <tbody>
            <tr v-for= "game in games">
              <td>{{game.g_id}}</td>
              <td>{{game.field_num}}</td>
              <td>{{game.start_date}}</td>
              <td>{{game.start_time}}</td>
              <td>{{game.game_level}}</td>
              <td>{{game.num_of_refs}}</td>
              <td>
                <button type="button" class="btn btn-outline-secondary btn-sm"
                              v-on:click="selectGame(game)">Edit</button>
                <button type="button" class="btn btn-outline-secondary btn-sm"
                              v-on:click="postDeleteGame(game)">Delete</button>
              </td>
            </tr>
          </tbody>
        </table>
        
  <!-- <div class = 'row'>
  <!-- <h3>College Career</h3>
  <p class = "earlylife">
   
  

  <cite>Source: </cite>
      <a href="https://en.wikipedia.org/wiki/Michael_Jordan" target="_blank">https://en.wikipedia.org/wiki/Michael_Jordan</a>

  </p> -->
  <p><a href="api/reports/games.php/?format=csv" download>Download as CSV</a>

  <h3 class="text-left">{{ selectedGame === null ? "Add a new" : "Edit " }} Game</h3>
  <form v-on:submit.prevent="postGame">
    <div class = 'one col-lg-12 col-md-12 col-sm-12 col-xs-12'>
    <div class="form-group">
      <label for="field_num" class="form-label">Field Number</label>
    <input type="number" v-model="gameForm.field_num" class="form-control" id="field_num" name="field_num"><br>
      <!-- <label for ='RefName'>Referee Name: <input type='text' name='refname' id='author' placeholder='Enter Name'></label> -->
    </div>
    <div class="form-group">
      <label for="start_date" class="form-label">Start Date</label>
    <input type="date" v-model="gameForm.start_date" class="form-control" id="start_date" name="start_date"><br>
      <!-- <label for ='RefAge'>Referee Age: <input type='text' name='refage' id='yearpublished' placeholder='Enter Referee Age'></label> -->
    </div>
    <div class="form-group">
      <label for="start_time" class="form-label">Start Time</label>
    <input type="time" v-model="gameForm.start_time" class="form-control" id="start_time" name="start_time"><br>
      <!-- <label for ='RefGrade'>Referee Grade: <input type='text' name='refgrade' id='publisher' placeholder='Enter Referee Grade'></label> -->
    </div>
      
    <div class="form-group">
      <label for="game_level" class="form-label">Game Level</label>
    <input type="number" v-model="gameForm.game_level" class="form-control" id="game_level" name="game_level"><br>
    
    </div>
     
    <div class="form-group">
      <label for="num_of_refs" class="form-label">Number of Referees</label>
    <input type="number" v-model="gameForm.num_of_refs" class="form-control" id="num_of_refs" name="num_of_refs"><br>
    
    </div>
     
    
    <!-- <label for ='PositionStatus'>Position Status: <input type='text' name='pagecount' id='pagecount' placeholder='Enter Position Status'></label>

      <label for ='RefereeStatus'>Referee Status: <input type='text' name='msrp' id='msrp' placeholder='Enter Referee Status'></label>
-->
      

      <button type="submit" class="btn btn-primary">{{ selectedgame === null ? "Add " : "Edit " }} Referee </button>
    <button type="button" class="btn btn-dark" v-if="selectedgame" v-on:click="resetGameForm">Cancel</button>

    </div>
    </form> <br>

  <div>
    <button type="button" class="btn btn-outline-secondary" v-on:click="fetchUnassigned">View Unassigned Games</button>
    <table id = 'unassigned' class ='table table-bordered table-striped table-hover table-condensed'>
      <thead>
        <tr>
          <th class='text-center'>Game ID</th> 
          <th class='text-center'>Field Number</th>
          <th class='text-center'>Start Date</th>
          <th class='text-center'>Start Time</th>
          <th class='text-center'>Game Level</th>
          <th class='text-center'>Number of Referees</th>
          <th class='text-center'>Functions</th>
        </tr>
      </thead>

      <tbody>
        <tr v-for= "game in unassignedGames">
          <td>{{game.g_id}}</td>
          <td>{{game.field_num}}</td>
          <td>{{game.start_date}}</td>
          <td>{{game.start_time}}</td>
          <td>{{game.game_level}}</td>
          <td>{{game.num_of_refs}}</td>
          <td>
            <button type="button" class="btn btn-outline-secondary btn-sm"
                          v-on:click="selectGame(game)">Edit</button>
            <button type="button" class="btn btn-outline-secondary btn-sm"
                          v-on:click="postDeleteGame(game)">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>    
    <p><a href="api/reports/index.php/?format=csv" download>Download as CSV</a>

  </div>  


  </div>  

  

      
    </main>
    <div class="center">
      <footer>
      |  Referee Information Center | <i>Supporting Your Love of the Game</i> | 
      </footer>
    </div>
    </div>
    <script src="js/index.js"></script>
  </body>
</html>